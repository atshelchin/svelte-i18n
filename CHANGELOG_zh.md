# 更新日志

本文件记录了 @shelchin/svelte-i18n 的所有重要更改。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.0.1] - 2025-08-09

### 新增功能

- **🎯 增强的类型安全** - 完整的翻译键自动补全支持
  - 输入 `i18n.t('...')` 时获得 IDE 智能提示
  - 插值参数的类型验证
  - `createTypedI18n` 函数创建类型安全实例
  - 开发时实时类型检查

- **💾 翻译缓存与恢复** - 永不丢失翻译工作
  - 自动保存到浏览器 IndexedDB
  - 随时恢复未完成的翻译
  - 使用 `_cache` 元数据导出/导入
  - 任务历史记录，一键恢复

- **📥 灵活的导入选项** - 多种方式加载翻译
  - 从本地文件导入
  - 从 URL 加载
  - 恢复保存的工作
  - 支持多个源语言文件

- **📊 智能进度跟踪** - 准确的翻译进度
  - 空字段计为未翻译
  - 任何内容（包括 `[TODO]` 标记）计为已翻译
  - 实时进度更新
  - 可视化状态指示器

- **🔍 自动发现 API** - 革命性的自动翻译加载
  - 包自动从 `/static/translations/` 查找翻译
  - 无需修改代码即可添加语言
  - 可配置的模式和命名空间
  - 完美适用于组件库和企业应用

### 更改

- 翻译进度检测现在正确识别任何非空内容为已翻译
- `setLocale` 现在是异步的，在警告前尝试自动发现
- 翻译编辑器 UI 改进，提供更好的用户体验
- 增强验证逻辑，提供更准确的结果

### 修复

- 修复翻译编辑器中的无限循环问题
- 修正嵌套翻译结构的进度计算
- 修复保存按钮可用性条件
- 改进进度指示器的文本颜色对比度

## [1.0.0] - 2025-01-08

### 🎉 首次发布

#### 功能特性

- **核心 i18n 引擎** - 使用 Svelte 5 runes 构建的响应式存储
- **类型安全** - 为所有翻译键自动生成 TypeScript 定义
- **AI 翻译编辑器** - 集成 OpenAI 的网页工具
- **自动加载** - 自动语言发现和加载
- **命名空间隔离** - 支持微前端和库隔离
- **验证系统** - 运行时验证与精美的错误 UI
- **持久化** - 自动保存用户语言偏好
- **全球格式化** - 通过原生 Intl API 支持 100+ 地区
  - 数字格式化（标准、百分比、紧凑、科学计数）
  - 货币格式化（自动检测）
  - 日期和时间格式化
  - 相对时间格式化
  - 列表格式化

#### 组件

- `<Trans>` - 内联翻译组件
- `<LanguageSwitcher>` - 精美的语言选择器
- `<ValidationPopup>` - 开发时验证 UI
- `<TypeSafetyDemo>` - 类型安全演示组件

#### CLI 工具

- `extract` - 从源代码提取翻译键
- `validate` - 验证翻译完整性
- `generate-types` - 生成 TypeScript 定义

#### 支持的语言（13种）

- 🇬🇧 英语
- 🇨🇳 中文（简体和繁体）
- 🇪🇸 西班牙语
- 🇫🇷 法语
- 🇩🇪 德语
- 🇯🇵 日语
- 🇰🇷 韩语
- 🇷🇺 俄语
- 🇸🇦 阿拉伯语
- 🇵🇹 葡萄牙语
- 🇮🇳 印地语
- 🇮🇹 意大利语

#### 开发者体验

- 零配置设置
- 热重载支持
- 全面的文档
- 90%+ 测试覆盖率
- GitHub Actions CI/CD
- 自动 npm 发布

### 说明

这是 @shelchin/svelte-i18n 的第一个稳定版本，一个专为 Svelte 5 应用程序构建的现代 i18n 库。它提供了完整的国际化解决方案，功能超越了传统的 i18n 库。

## 版本对比

| 版本  | 发布日期   | 主要特性                         |
| ----- | ---------- | -------------------------------- |
| 1.1.0 | 2025-01-09 | 类型安全增强、翻译缓存、灵活导入 |
| 1.0.0 | 2025-01-08 | 初始发布、核心功能               |

---

[1.1.0]: https://github.com/atshelchin/svelte-i18n/releases/tag/v1.1.0
[1.0.0]: https://github.com/atshelchin/svelte-i18n/releases/tag/v1.0.0
